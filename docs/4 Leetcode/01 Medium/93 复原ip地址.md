---
Author: sync
date: 2022-06-19 17:04 Sunday
tag: å‡æ å›æº¯ å­—ç¬¦ä¸² 
---

![](FigureBed%20ğŸŒ„/Pasted/Pasted%20image%2020220619165925.png)

[c++ ä¸­ string å’Œ int ä¹‹é—´ç›¸äº’è½¬æ¢](06%20æ±‚èŒå‡†å¤‡/602%20èƒŒé¢˜/02%20åˆ·é¢˜/å¥‡å¥‡æ€ªæ€ª/c++%20ä¸­%20string%20å’Œ%20int%20ä¹‹é—´ç›¸äº’è½¬æ¢.md)

```cpp
class Solution {
public:
    vector<string> res;

    string vecTostring(vector<int> list){
        string temp = "";
        for(int i = 0; i < list.size(); i++){
            string num = std::to_string(list[i]);
            temp += num;
            if(i < 3) temp += '.';
        }

        return temp;
    }
    void dfs(string s, int step, int len, vector<int> &path){
        if(step > 4) return ;

        if(step == 4 && s.size() > 0) return ;

        if(step == 4 && s.size() == 0){
            res.push_back(vecTostring(path));
          }

        for(int i = 1; i <= 3;i++){
            if(i <= s.size()){
                string ip = s.substr(0, i);
                string left = s.substr(i, len-i);

                int numIP = stoi(ip);
                if(numIP == 0 && ip.size() > 1) continue;

                if(numIP > 0 && ip[0] == '0') continue;

                if(numIP > 255) continue;

                path.push_back(numIP);

                dfs(left, step+1, len-i, path);

                path.pop_back();
            }
        }
    }
    vector<string> restoreIpAddresses(string s) {
        int len = s.size();

        if(len <= 3 || len > 12) return res;
        vector<int> path;
        dfs(s, 0, len, path);

        return res;
    }
};
```
